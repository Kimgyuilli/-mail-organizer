---
title: AI 메일 분류 전략 조사
tags: [ai, classification, claude-api, architecture]
created: 2026-02-26
updated: 2026-02-26
status: draft
---

# AI 메일 분류 전략 조사

## 분류 방법 비교

### 방법 A: LLM API (Claude) — 채택 예정
- 메일 제목 + 본문을 Claude API에 전송하여 카테고리 분류
- 장점: 한국어 강점, 맥락 이해, 커스텀 카테고리 유연
- 단점: API 비용, 레이턴시
- 모델: claude-sonnet-4-5-20250929 (비용 효율)

### 방법 B: 직접 분류 모델 학습
- 사용자 메일 데이터로 fine-tuning
- 장점: 비용 낮음 (추론 시), 오프라인 가능
- 단점: 초기 데이터 필요, 학습/유지보수 비용, 초기엔 오버킬

### 방법 C: 규칙 기반 + AI 하이브리드 — 보조로 사용
- 발신자 도메인, 키워드 등 규칙으로 1차 분류 → 불확실한 건 AI fallback
- 장점: 빠름, 비용 절약
- 단점: 규칙 관리 부담

## 분류 카테고리 (초기 기본값)

| 카테고리 | 설명 | 예시 |
|----------|------|------|
| 업무 | 회사/팀 관련 메일 | 회의 초대, 업무 요청 |
| 개인 | 지인/가족 메일 | 개인 연락 |
| 금융 | 은행, 카드, 결제 | 거래 내역, 청구서 |
| 프로모션 | 광고, 마케팅 | 할인 쿠폰, 이벤트 |
| 뉴스레터 | 구독 콘텐츠 | 기술 뉴스, 매거진 |
| 알림 | 서비스 알림 | 배송 알림, 로그인 알림 |
| 중요 | AI가 긴급/중요로 판단 | 기한 있는 요청, 보안 알림 |

사용자가 카테고리를 추가/수정할 수 있어야 함.

## 비용 최적화 전략

1. **규칙 기반 1차 필터**: 명확한 발신자(noreply@, newsletter@ 등)는 API 호출 생략
2. **배치 처리**: 메일 여러 개를 한 프롬프트에 묶어서 분류
3. **캐싱**: 같은 발신자+제목 패턴은 이전 결과 재사용
4. **요약 후 분류**: 긴 메일은 본문 앞부분만 사용 (토큰 절약)

## TODO

- [ ] 분류 프롬프트 초안 작성
- [ ] 배치 분류 시 최적 묶음 크기 테스트
- [ ] 사용자 피드백 반영 메커니즘 설계
